<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Valentine</title>

<style>
body{
margin:0;
height:100vh;
font-family:Arial;
display:flex;
justify-content:center;
align-items:center;
overflow:hidden;

background:
linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)),
url("sunset.jpeg");

background-size:cover;
background-position:center;
color:white;
}

#app{
text-align:center;
width:100%;
max-width:420px;
}

h1{margin-bottom:25px;}

#yesBtn{
background:#ff2d55;
color:white;
padding:16px 40px;
font-size:20px;
border:none;
border-radius:30px;
cursor:pointer;
}

#area{
position:relative;
height:200px;
margin-top:20px;
}

#noBtn{
position:absolute;
background:#555;
color:white;
padding:14px 35px;
font-size:18px;
border:none;
border-radius:30px;
cursor:pointer;
transition:.15s ease;
}

/* hearts */
.heart{
position:fixed;
bottom:-20px;
animation:float 6s linear forwards;
}

@keyframes float{
to{transform:translateY(-100vh);opacity:0;}
}

/* confetti */
.confetti{
position:fixed;
top:-10px;
width:8px;
height:8px;
animation:fall 3s linear forwards;
}

@keyframes fall{
to{transform:translateY(100vh) rotate(720deg);}
}
</style>
</head>

<body>

<div id="app">

<h1 id="question">Will you be my Valentine?</h1>

<button id="yesBtn" onclick="yesClicked()">Yes ‚ù§Ô∏è</button>

<div id="area">
<button id="noBtn" onmouseover="moveNo()">No üò¢</button>
</div>

</div>

<audio id="loveSong" src="song.mp3" preload="auto"></audio>

<script>

let round=0;

const questions=[
"Will you be my Valentine?",
"Are you really trying to press NO? üòè",
"After all the memories we've created...",
"After choosing each other every day...",
"So tell me... will you be my Valentine forever? ‚ù§Ô∏è"
];

// start hearts + place NO
window.onload=function(){
const area=document.getElementById("area");
const no=document.getElementById("noBtn");
no.style.left=(area.clientWidth/2 - no.offsetWidth/2)+"px";
no.style.top="20px";
startHearts();
};

function moveNo(){
const no=document.getElementById("noBtn");
const area=document.getElementById("area");

const x=Math.random()*(area.clientWidth-no.offsetWidth);
const y=Math.random()*(area.clientHeight-no.offsetHeight);

if(y<40) return;

no.style.left=x+"px";
no.style.top=y+"px";

if(round<questions.length-1){
round++;
document.getElementById("question").innerText=questions[round];
}
}

function yesClicked(){

const song=document.getElementById("loveSong");
song.volume=0;
song.play();

// fade in audio
let v=0;
const fade=setInterval(()=>{
if(v<0.6){v+=0.05;song.volume=v;}else clearInterval(fade);
},150);

launchConfetti();

setTimeout(()=>{
document.getElementById("app").innerHTML=
"<h1>Happy valentine's day my loveüòç</h1>"+
"<h2>You just made me the happiest husband alive ‚ù§Ô∏è</h2>"+
"<p>I choose you. Always.</p>"+
"<p>In every lifetime, I'd still find you.</p>";
},800);
}

// hearts
function startHearts(){
setInterval(()=>{
const h=document.createElement("div");
h.className="heart";
h.innerHTML="üíñ";
h.style.left=Math.random()*100+"vw";
h.style.fontSize=15+Math.random()*20+"px";
document.body.appendChild(h);
setTimeout(()=>h.remove(),6000);
},700);
}

// confetti
function launchConfetti(){
for(let i=0;i<100;i++){
const c=document.createElement("div");
c.className="confetti";
c.style.left=Math.random()*100+"vw";
c.style.background=["#ff0","#0ff","#fff","#ff69b4"][Math.floor(Math.random()*4)];
document.body.appendChild(c);
setTimeout(()=>c.remove(),4000);
}
}

</script>

</body>
</html>
